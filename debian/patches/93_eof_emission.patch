diff -Nur vte-0.16.7/src/vte.c vte-0.16.7.new/src/vte.c
--- vte-0.16.7/src/vte.c	2007-07-27 06:07:20.000000000 +0200
+++ vte-0.16.7.new/src/vte.c	2007-07-30 13:20:03.000000000 +0200
@@ -872,13 +872,24 @@
 	terminal->pvt->cursor_moved_pending = TRUE;
 }
 
-/* Emit a "eof" signal. */
-static void
+static gboolean
 vte_terminal_emit_eof(VteTerminal *terminal)
 {
 	_vte_debug_print(VTE_DEBUG_SIGNALS,
 			"Emitting `eof'.\n");
 	g_signal_emit_by_name(terminal, "eof");
+	return FALSE;
+}
+/* Emit a "eof" signal. */
+static void
+vte_terminal_queue_eof(VteTerminal *terminal)
+{
+	_vte_debug_print(VTE_DEBUG_SIGNALS,
+			"Queueing `eof'.\n");
+	g_idle_add_full (G_PRIORITY_HIGH,
+		(GSourceFunc) vte_terminal_emit_eof,
+		g_object_ref (terminal),
+		g_object_unref);
 }
 
 /* Emit a "char-size-changed" signal. */
@@ -3036,7 +3047,7 @@
 	_vte_buffer_clear(terminal->pvt->outgoing);
 
 	/* Emit a signal that we read an EOF. */
-	vte_terminal_emit_eof(terminal);
+	vte_terminal_queue_eof(terminal);
 }
 
 /* Reset the input method context. */
