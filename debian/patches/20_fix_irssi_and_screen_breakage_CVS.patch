diff -Nur vte-0.12.0/src/vte.c vte-0.12.0.new/src/vte.c
--- vte-0.12.0/src/vte.c	2006-03-13 10:06:19.000000000 +0100
+++ vte-0.12.0.new/src/vte.c	2006-03-13 10:06:20.000000000 +0100
@@ -16,7 +16,7 @@
  * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
  */
 
-#ident "$Id: vte.c,v 1.442 2006/03/08 20:31:13 behdad Exp $"
+#ident "$Id: vte.c,v 1.443 2006/03/13 05:46:01 behdad Exp $"
 
 #include "../config.h"
 
@@ -6911,28 +6911,35 @@
 	/* Set our allocation to match the structure. */
 	widget->allocation = *allocation;
 
-	/* Set the size of the pseudo-terminal. */
-	vte_terminal_set_size(terminal, width, height);
+	if (terminal->column_count != width || terminal->row_count != height) {
+		/* Set the size of the pseudo-terminal. */
+		vte_terminal_set_size(terminal, width, height);
+
+		/* Adjust scrolling area in case our boundaries have just been
+		 * redefined to be invalid. */
+		if (terminal->pvt->screen->scrolling_restricted) {
+			terminal->pvt->screen->scrolling_region.start =
+				MIN(terminal->pvt->screen->scrolling_region.start,
+				    terminal->row_count - 1);
+			terminal->pvt->screen->scrolling_region.end =
+				MIN(terminal->pvt->screen->scrolling_region.end,
+				    terminal->row_count - 1);
+		}
+
+		/* Adjust scrollback buffers to ensure that they're big enough. */
+		vte_terminal_set_scrollback_lines(terminal,
+						  MAX(terminal->pvt->scrollback_lines,
+						      terminal->row_count));
 
-	/* Adjust scrolling area in case our boundaries have just been
-	 * redefined to be invalid. */
-	if (terminal->pvt->screen->scrolling_restricted) {
-		terminal->pvt->screen->scrolling_region.start =
-			CLAMP(terminal->pvt->screen->scrolling_region.start,
-			      terminal->pvt->screen->insert_delta,
-			      terminal->pvt->screen->insert_delta +
-			      terminal->row_count - 1);
-		terminal->pvt->screen->scrolling_region.end =
-			CLAMP(terminal->pvt->screen->scrolling_region.end,
-			      terminal->pvt->screen->insert_delta,
-			      terminal->pvt->screen->insert_delta +
-			      terminal->row_count - 1);
-	}
+		/* Adjust the adjustments. */
+		_vte_terminal_adjust_adjustments(terminal, TRUE);
 
-	/* Adjust scrollback buffers to ensure that they're big enough. */
-	vte_terminal_set_scrollback_lines(terminal,
-					  MAX(terminal->pvt->scrollback_lines,
-					      terminal->row_count));
+		_vte_terminal_update_insert_delta (terminal);
+
+		if (snapped_to_bottom) {
+			vte_terminal_maybe_scroll_to_bottom (terminal);
+		}
+	}
 
 	/* Resize the GDK window. */
 	if (widget->window != NULL) {
@@ -6951,15 +6958,6 @@
 			_vte_invalidate_all(terminal);
 		}
 	}
-
-	/* Adjust the adjustments. */
-	_vte_terminal_adjust_adjustments(terminal, TRUE);
-
-	_vte_terminal_update_insert_delta (terminal);
-
-	if (snapped_to_bottom) {
-		vte_terminal_maybe_scroll_to_bottom (terminal);
-	}
 }
 
 /* Show the window. */
