diff -Nur vte-0.13.6/src/vte.c vte-0.13.6.new/src/vte.c
--- vte-0.13.6/src/vte.c	2006-08-17 23:31:20.000000000 +0200
+++ vte-0.13.6.new/src/vte.c	2006-08-24 11:54:09.000000000 +0200
@@ -4855,6 +4855,7 @@
 
 		/* Make sure that the attributes array is as long as the string. */
 		if (attributes) {
+			g_array_set_size(attributes, string->len);
 			vte_g_array_fill(attributes, &attr, string->len);
 		}
 	}
